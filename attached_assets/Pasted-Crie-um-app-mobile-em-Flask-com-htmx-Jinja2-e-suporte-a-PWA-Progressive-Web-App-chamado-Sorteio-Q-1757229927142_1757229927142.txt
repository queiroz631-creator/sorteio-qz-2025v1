Crie um app mobile em Flask com htmx, Jinja2 e suporte a PWA (Progressive Web App) chamado Sorteio QZ.
Requisitos gerais:
Â·Banco de dados: SQL Server (usar dados de exemplo caso nÃ£o consiga conectar).
Â·OrganizaÃ§Ã£o:
oUma rota para cada pÃ¡gina.
oUma pasta separada para a regra de negÃ³cio.
oUm arquivo separado para a conexÃ£o com SQL Server.
Â·Interface moderna, responsiva e avermelhada.
Â·Tema claro/escuro (switch dark mode/light mode).
Â·Logotipo simples com nome Sorteio QZ na dashboard.
Â·ComentÃ¡rios explicando as principais partes do cÃ³digo.
Â·Tratamento de erros nas requisiÃ§Ãµes.
Â·Todo texto deve estar em portuguÃªs do Brasil.

Estrutura do Aplicativo
1. Tela Inicial
Â·Exibe informaÃ§Ãµes sobre o sorteio.
Â·BotÃ£o â€œParticiparâ€, que direciona para a tela de cadastro.
2. Tela de Cadastro do Cliente
Campos:
Â·Nome completo
Â·CPF
Â·Telefone
BotÃ£o para cadastrar â†’ redireciona para a Dashboard.
3. Dashboard do Cliente
Exibe:
Â·Resumo:
oQuantos cupons foram cadastrados.
oQuantos nÃºmeros da sorte foram gerados.
Â·InformaÃ§Ãµes do participante (nome, CPF e telefone).
Â·Quatro botÃµes principais:
1.Cadastrar Nota
2.Mostrar Notas
3.Mostrar NÃºmeros
4.InformaÃ§Ãµes

Funcionalidades
Cadastrar Nota
Â·Campos: valor e nÃºmero da nota.
Â·BotÃ£o para cadastrar e voltar.
Â·Regra:
oA cada R$20,00 em notas validadas, gera 01 nÃºmero da sorte.
Mostrar Notas
Â·Lista de todas as notas cadastradas.
Â·Exibir se foi validada ou nÃ£o.
Â·Caso nÃ£o validada, deve exibir botÃµes de Editar e Excluir.
Mostrar NÃºmeros
Â·Lista de todos os nÃºmeros da sorte gerados.
Â·Exibir tambÃ©m a data de geraÃ§Ã£o.
InformaÃ§Ãµes
Â·Mostrar regras completas do sorteio.
Â·Mostrar os prÃªmios.

Banco de Dados
Nome do banco: Sorteio_qz
Criar um arquivo db.py com a conexÃ£o ao SQL Server.
Exemplos de select, insert, edit e delete.
FunÃ§Ã£o utilitÃ¡ria para chamadas de procedures:
def procedure(nome_proc, lista=[]):
    proc = ""
    contador = 0
    for item in lista:
        if contador == 0:
            proc = item
        else:
            proc += f",{item}"
        contador += 1 

    exec = f"exec {nome_proc} {proc}"
    return exec.strip()

Formato de uso (antes de chamar procedure, montar lista):
lista = [
    "@opcao=1",
    f"@nome='{nome}'",
    f"@cpf='{cpf}'",
    f"@telefone='{telefone}'",
    f"@data_cadastro='{data_cadastro}'"
]
sql = procedure("proc_cliente_insert", lista)


Procedures usadas
1.Cadastro cliente
oproc_cliente_insert
oParÃ¢metros: nome, cpf, telefone, data_cadastro
2.Cadastro nota
oproc_nota_insert
oParÃ¢metros: valor, num_nota, cpf, data_cadastro
3.Cadastro nÃºmero da sorte
oproc_numero_sorte_insert
oParÃ¢metros: num_sorte, cpf, data_cadastro
4.Cadastro histÃ³rico sorteio
oproc_historico_sorteio_insert
oParÃ¢metros: id_cliente, versao_sorteio, data_cadastro, saldo_anterior

Extras
Â·Design moderno avermelhado.
Â·Dark mode/light mode.
Â·PWA configurado (manifest.json e service worker).
Â·ComentÃ¡rios explicativos no cÃ³digo.

ğŸ‘‰ Esse prompt jÃ¡ estÃ¡ estruturado para que qualquer gerador de cÃ³digo consiga criar um projeto completo com todas as funcionalidades descritas.
Quer que eu jÃ¡ gere o projeto Flask inteiro no formato ZIP com essa estrutura pronta para rodar, incluindo rotas, templates, conexÃ£o de banco e dados de exemplo?

